# INTRO
DB에서 데이터를 특정 포맷을 가진 csv형태로 대량으로 뽑아달라는 요청이 들어왔다. 가장 먼저 든 생각은 쿼리를 사용해 추출하는것 이었다. 회사에서 시용하는 DBMS 는 MariaDB 였고, 간단하게 select 한 결과를 csv 형태로 뽑을 수 있었기 때문이다. 하지만 몇가지 한계점이 있었다.

## 쿼리를 사용하지 않은 이유
가장 크게 두가지가 있었다.
1. raw 데이터를 csv형태로 가공해야 했고
1. 데이터의 양이 많았다.

raw data엔 json과 xml이 문자열 형태로 들어가있는 컬럼이 있었고, 전달받은 포맷대로 출력을 하기 위해선 json과 xml을 파싱해야 했다. 왠만하면 하겠는데.. json은 필드가 20개, xml은 하위 노드가 200여개가 넘어서 쿼리만 하더라도 23인치 모니터에 한꺼번에 담을 수 없었고 속도 또한 굉장히 느렸다. 거기다 데이터의 양도 6개월치 정도를 추출해야 했으니 쿼리는 사용하지 않기로 했다. 그리고앞으로 raw 데이터 추출해달라는 요청이 굉장히 많이 올것 같아서 추출 기능을 개발하는것이 좋겠다 생각했다. 

많은 방법이 있겠지만 그중에서도 스프링배치를 사용한 이유는
## 스프링 배치를 사용한 이유
평소에 대용량 데이터의 처리에 적합하다는 말을 많이 들었고 가장 큰 이유는 평소에 관심이 있어서 언젠간 써봐야지 하는 생각을 가지고 있었기 때문이다.

처음 사용해보는거라 삽질도 많이 했는데, 개발 하면서 겪었던 문제들을 어떻게 해결했는지 위주로 기록을 해두려 한다.

글의 순서는 아래와 같다.
## 순서
* ## 요구사항 분석
* ## 설계